# í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ê°œìš”

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì€ ì„±ê³µì ì¸ í”„ë¡œê·¸ë˜ë°ì„ ìœ„í•´ ë¶€ìˆ˜íš¨ê³¼ë¥¼ ë¯¸ì›Œí•˜ê³  ì¡°í•©ì„±ì„ ê°•ì¡°í•˜ëŠ” í”„ë¡œê·¸ë˜ë° íŒ¨ëŸ¬ë‹¤ì„ì´ë‹¤.

- ë¶€ìˆ˜íš¨ê³¼ë¥¼ ë¯¸ì›Œí•œë‹¤ => ìˆœìˆ˜í•¨ìˆ˜ë¥¼ ë§Œë“ ë‹¤
- ì¡°í•©ì„±ì„ ê°•ì¡°í•œë‹¤ => ëª¨ë“ˆí™” ìˆ˜ì¤€ì„ ë†’ì¸ë‹¤
- ìˆœìˆ˜ í•¨ìˆ˜ => ì˜¤ë¥˜ë¥¼ ì¤„ì´ê³  ì•ˆì •ì„±ì„ ë†’ì¸ë‹¤
- ëª¨ë“ˆí™” ìˆ˜ì¤€ì´ ë†’ë‹¤ => ìƒì‚°ì„±ì„ ë†’ì¸ë‹¤

## ìˆœìˆ˜ í•¨ìˆ˜

```js
function add(a, b) {
  return a + b;
}

console.log(add(10, 5)); // 15
```

ìˆœìˆ˜ í•¨ìˆ˜ë€

1. ë™ì¼í•œ ì¸ìë¥¼ ë„£ìœ¼ë©´ ë™ì¼í•œ ê°’ì´ ë°˜í™˜ë˜ëŠ” ê²ƒì„ ì˜ë¯¸
2. ë¶€ìˆ˜íš¨ê³¼ê°€ ì—†ë‹¤
3. ìˆœìˆ˜ í•¨ìˆ˜ëŠ” í‰ê°€ ì‹œì ì´ ì¤‘ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤

- ë™ì¼í•œ ê°’ì„ ë„£ì—ˆëŠ”ë° ìƒí™©ì— ë”°ë¼ ë‹¤ë¥¸ ê°’ì„ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ëŠ” ë¬´ì—‡ì¼ê¹Œ?

```js
var c = 10;
function add2(a, b) {
  return a + b + c;
}

console.log(add2(10, 2)); // 22
console.log(add2(10, 3)); // 23
console.log(add2(10, 4)); // 24
c = 20;
console.log(add2(10, 2)); // 32
console.log(add2(10, 3)); // 33
console.log(add2(10, 4)); // 34
```

ì´í›„ì— cê°€ ë°”ë€” ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìˆœìˆ˜ í•¨ìˆ˜ê°€ ì•„ë‹™ë‹ˆë‹¤.
í•˜ì§€ë§Œ ìƒìˆ˜ë¡œ í™œìš©í•œë‹¤ë©´ ìˆœìˆ˜ í•¨ìˆ˜ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- ë¶€ìˆ˜íš¨ê³¼ë€ ìƒíƒœë¥¼ ì§ì ‘ ë³€ê²½í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

```js
var c = 20;
function add3(a, b) {
  c = b;
  return a + b;
}

console.log(c); // 20
console.log(add(10, 5)); // 15
console.log(c); // 30
```

ë¦¬í„´ ê°’ì„ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ë¶€ë¶„ì—ì„œ ì™¸ë¶€ì˜ ê°’ì„ ë³€ê²½í•œë‹¤ë©´ ìˆœìˆ˜ í•¨ìˆ˜ê°€ ì•„ë‹ˆê²Œ ë©ë‹ˆë‹¤.

- ìˆœìˆ˜ í•¨ìˆ˜ê°€ ì•„ë‹Œ ë˜ ë‹¤ë¥¸ í•¨ìˆ˜

```js
var obj1 = { val: 10 };
function add4(obj, b) {
  obj.val += b;
}

console.log(obj1.val); // 10
add4(obj1, 20);
console.log(obj1.val); // 30
```

add4ëŠ” obj1ì˜ ê°’ì„ ì§ì ‘ ìˆ˜ì •í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

ìš°ë¦¬ëŠ” ì£¼ë¡œ ê°ì²´ë¥¼ ë‹¤ë£¨ê²Œ ë˜ëŠ”ë° ìˆœìˆ˜ í•¨ìˆ˜ë¡œëŠ” ê°ì²´ì˜ ìƒíƒœë¥¼ ë³€ê²½ í•  ìˆ˜ ì—†ëŠ”ê±¸ê¹Œìš”?

ê¸°ì¡´ì˜ ê°’ì„ ê·¸ëŒ€ë¡œ ë‘ê³  ë³µì‚¬í•´ ìƒˆë¡œìš´ ê°’ì„ ë§Œë“¤ì–´ë‚´ë©´ ë©ë‹ˆë‹¤.

```js
var obj1 = { val: 10 };
function add5(obj, b) {
  return { val: obj1.val + b };
}

console.log(obj1.val); // 10
add5(obj1, 20);
console.log(obj1.val); // 10
var obj2 = add5(obj1, 20);
console.log(obj2.val); // 30
```

ìœ„ ì˜ˆì‹œëŠ” ì¸ìë¡œ ë°›ì€ ê°’ì„ ìˆ˜ì •ë„ í•˜ì§€ ì•Šì„ ë¿ë”ëŸ¬, ê·¸ ê°’ì„ ë³€ê²½ì‹œí‚¤ì§€ë„ ì•ŠëŠ” ìˆœìˆ˜í•¨ìˆ˜ì…ë‹ˆë‹¤.

- ìˆœìˆ˜ í•¨ìˆ˜ê°€ ì•„ë‹Œ í•¨ìˆ˜ëŠ” í‰ê°€ ì‹œì ì´ ì¤‘ìš”í•˜ì§€ë§Œ, ìˆœìˆ˜í•¨ìˆ˜ëŠ” í‰ê°€ì‹œì ì´ ì¤‘ìš”í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
  ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì•„ì£¼ ì•ˆì „í•œ í•¨ìˆ˜ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  ì´ë¥¼ í†µí•´ ë‹¤ì–‘í•œ ë¡œì§ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì¼ê¸‰ í•¨ìˆ˜

í•¨ìˆ˜ë¥¼ ê°’(ì¸ì, ë³€ìˆ˜, ì›í•  ë•Œ í‰ê°€í•  ìˆ˜ ìˆëŠ”)ìœ¼ë¡œ ë‹¤ë£° ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

```js
function add(a, b) {
  return a + b;
}

var f1 = function (a) {
  return a * a;
};
console.log(f1); // function (a) { return a * a; }

var f2 = add;
console.log(f2); // function add(a, b) { return a + b; }

function f3(f) {
  return f();
}

f3(function () {
  return 10;
});
```

í•¨ìˆ˜ f3ì€ í•¨ìˆ˜ë¥¼ ì¸ìë¡œ ë°›ì•„ì„œ ì‹¤í–‰ì‹œí‚¤ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì¸ì ê°’ì„ í‰ê°€í•œ ë‹¤ìŒ ê·¸ ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. (ì¼ê¸‰í•¨ìˆ˜, ìˆœìˆ˜í•¨ìˆ˜)

## add_maker

```js
// add_maker

function add_maker(a) {
  return function (b) {
    return a + b;
  };
}

var add10 = add_maker(10);

console.log(add10(20));
```

add_makerëŠ” **ì¼ê¸‰í•¨ìˆ˜**ì™€ **í´ë¡œì €** ê°œë…ì´ í•©ì³ì§„ ì˜ˆì‹œì…ë‹ˆë‹¤. `function (b) { return a + b; };` ì´ ì™¸ë¶€ì˜ ê°’ aë¥¼ ê¸°ì–µí•˜ê³  ìˆê¸° ë•Œë¬¸ì— í´ë¡œì €ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ì¸ì aëŠ” ì°¸ì¡°ë§Œ í•  ë¿ aì˜ ê°’ì„ ì§ì ‘ ìˆ˜ì •í•  ìˆ˜ ì—†ëŠ” ìˆœìˆ˜í•¨ìˆ˜ë¡œ êµ¬ì„±ë˜ì–´ìˆìŠµë‹ˆë‹¤.

```js
function f4(f1, f2, f3) {
  return f3(f1() + f2());
}

f4(
  function () {
    return 2;
  },
  function () {
    return 1;
  },
  function (a) {
    return a * a;
  },
); // f3(3) => console.log(f4) => 9
```

# í•¨ìˆ˜í˜•ìœ¼ë¡œ ì „í™˜í•˜ê¸°

```js
var users = [
  { id: 1, name: 'ID', age: 36 },
  { id: 2, name: 'BJ', age: 32 },
  { id: 3, name: 'JM', age: 32 },
  { id: 4, name: 'PJ', age: 27 },
  { id: 5, name: 'HA', age: 25 },
  { id: 6, name: 'JE', age: 26 },
  { id: 7, name: 'JI', age: 31 },
  { id: 8, name: 'MP', age: 23 },
];
```

## ëª…ë ¹í˜• ì½”ë“œ

1. 30ì„¸ ì´ìƒì¸ usersë¥¼ ê±°ë¥¸ë‹¤.

```js
var temp_users = [];

for (var i = 0; i < users.length; i++) {
  if (users[i].age >= 30) {
    temp_users.push(users[i]);
  }
}
```

2. 30ì„¸ ì´ìƒì¸ usersì˜ namesë¥¼ ìˆ˜ì§‘í•œë‹¤.

```js
var names = [];

for (var i = 0; i < temp_users.length; i++) {
  names.push(temp_users[i].name);
}
```

3. 30ì„¸ ë¯¸ë§Œì¸ usersë¥¼ ê±°ë¥¸ë‹¤.

```js
var temp_users = [];

for (var i = 0; i < users.length; i++) {
  if (users[i].age < 30) {
    temp_users.push(users[i]);
  }
}
```

4. 30ì„¸ ë¯¸ë§Œì¸ usersë¥¼ agesë¥¼ ìˆ˜ì§‘í•œë‹¤.

```js
var ages = [];

for (var i = 0; i < temp_users.length; i++) {
  names.push(temp_users[i].age);
}
```

1, 3ì˜ ì½”ë“œëŠ” ì¡°ê±´ë¶€ë§Œ ë‹¤ë¥´ì§€ ë‹¤ë¥¸ ë¶€ë¶„ì€ ëª¨ë‘ ì¼ì¹˜í•˜ì§€ë§Œ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì„ í†µí•´ ì¤‘ë³µì„ í•´ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## \_filter, \_mapìœ¼ë¡œ ë¦¬íŒ©í† ë§

```js
function _filter(users, predicate) {
  var new_list = [];
  for (var i = 0; i < users.length; i++) {
    if (predicate(users[i])) {
      new_list.push(users[i]);
    }
  }
  return new_list;
}

var over_30 = _filter(users, function (users) {
  return users.age >= 30;
});

var under_30 = _filter(users, function (users) {
  return users.age < 30;
});

function _map(list, mapper) {
  var new_list = [];
  for (var i = 0; i < list.length; i++) {
    new_list.push(mapper(list[i]));
  }
  return new_list;
}

var names = _map(over_30, function (user) {
  return user.name;
});

var ages = _map(under_30, function (user) {
  return user.age;
});
```

\_filterí•¨ìˆ˜ê°€ í•œë²ˆ ëŒì•„ê°ˆë•Œ users.lengthë¥¼ ê¸°ì¤€ìœ¼ë¡œ predicate()í•¨ìˆ˜ê°€ ë°˜ë³µ ë  ê²ƒì…ë‹ˆë‹¤. ë˜í•œ ì´ \_filterí•¨ìˆ˜ëŠ” userë§Œì„ ìœ„í•œ í•¨ìˆ˜ê°€ ì•„ë‹Œ ì–´ë–¤ ì¡°ê±´ì´ë¼ë„ í•„í„°ë§ í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ì¬í™œìš©ì„±ì´ ì•„ì£¼ ë†’ì€ í•¨ìˆ˜ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. usersë¥¼ listë¡œ ìˆ˜ì •í•´ ë” ë„“ì€ ë²”ìœ„ì˜ í•„í„°ë§ì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤ê³  í‘œê¸°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

\_map í•¨ìˆ˜ë„ mapperì—ê²Œ ì–´ë–¤ ì¸ìê°’ì„ ê°€ì ¸ì˜¬ì§€ë¥¼ ìœ„ì„í•¨ìœ¼ë¡œì¨ ì½”ë“œì˜ ì¤‘ë³µì„ ì¤„ì´ê³  ê°„ê²°í•˜ê²Œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œëŠ” ëŒ€ì…ë¬¸ì„ ìì£¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ê²½í•­ì´ ìˆê¸° ë•Œë¬¸ì— ìœ„ ì½”ë“œë¥¼ ë” ê°„ê²°í•˜ê²Œ ë§Œë“¤ì–´ ë´…ì‹œë‹¤. í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì€ í•¨ìˆ˜ë¥¼ í†µê³¼í•´ë‚˜ê°€ë©´ì„œ í•œ ë²ˆì— ê°’ì„ ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ ë‚˜ê°€ëŠ” ê²ƒì´ í•µì‹¬ì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ëŒ€ì…ë¬¸ì„ ì¤„ì´ë©´ ì¤‘ê°„ì— ê°’ì´ ë³€í™”í•  ì—¬ì§€ë¥¼ ì¤„ì¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë³´ë‹¤ ì•ˆì •ì„± ë†’ê³  í…ŒìŠ¤íŠ¸í•˜ê¸° ì‰¬ìš´ ì½”ë“œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
var names = _map(
  _filter(users, function (users) {
    return users.age >= 30;
  }),
  function (user) {
    return user.name;
  },
);

var ages = _map(
  _filter(users, function (users) {
    return users.age < 30;
  }),
  function (user) {
    return user.age;
  },
);
```

## \_each ë§Œë“¤ê¸°

### \_eachë¡œ \_filter, \_mapì˜ ì¤‘ë³µ ì¤„ì´ê¸°

```js
function _each(list, iter) {
  for (var i = 0; i < list.length; i++) {
    iter(list[i]);
  }
}

function _filter(list, predi) {
  var new_list = [];
  _each(list, function (val) {
    if (predi(val)) {
      new_list.push(val);
    }
  });
  return new_list;
}

function _map(list, mapper) {
  var new_list = [];
  _each(list, function (val) {
    new_list.push(mapper(val));
  });
  return new_list;
}
```

ê¸°ì¡´ì— ë§Œë“¤ì—ˆë˜ `_filter`, `_map` í•¨ìˆ˜ë¥¼ `_each` í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ë” ì¤„ì¼ ìˆ˜ ìˆìœ¼ë©°, í•´ë‹¹í•˜ëŠ” ëª…ë ¹ì ì¸ ì½”ë“œê°€ ìˆ¨ê²Œë©ë‹ˆë‹¤. ì´ëŠ” ì„ ì–¸ì ì¸ ì½”ë“œê°€ ë˜ì–´ ì˜¤ë¥˜ê°€ ì¤„ê³  ì‹¤ìˆ˜ê°€ ì¤„ì–´ë“œëŠ” ì½”ë“œê°€ ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ë‹¤í˜•ì„±

### ì™¸ë¶€ ë‹¤í˜•ì„±

#### array_alike, argument, document.querySelectorAll

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì´ë¯¸ `_map`, `_filter`ì™€ ê°™ì€ ê¸°ëŠ¥ì„ í•˜ëŠ” í•¨ìˆ˜ê°€ ì´ë¯¸ ì¡´ì¬í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì™œ ì¼ì¼ì´ ìƒˆë¡­ê²Œ ë§Œë“¤ì—ˆì„ê¹Œìš”?
ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¥ ë§¤ì„œë“œì´ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ë§¤ì„œë“œëŠ” ì—¬ëŸ¬ í™˜ê²½ì— ì˜í–¥ì„ ë§ì´ ë°›ê²Œë©ë‹ˆë‹¤. ë˜í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” í”„ë¡œí† íƒ€ì… ê¸°ë°˜ ì–¸ì–´ì´ê¸° ë•Œë¬¸ì— nodeì€ ë°°ì—´ê³¼ í¡ì‚¬í•œ êµ¬ì¡°ë¥¼ ê°€ì¡Œì§€ë§Œ ë°°ì—´ì´ ì•„ë‹Œ êµ¬ì¡°ì—ëŠ” ë§¤ì„œë“œë¥¼ í™œìš©í•  ìˆ˜ ì—†ì§€ë§Œ, ìš°ë¦¬ê°€ ìƒˆë¡­ê²Œ ë§Œë“  `_map` `_filter` í•¨ìˆ˜ë¡œëŠ” í™œìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```js
// ê¸°ë³¸ ë‚´ì¥ ë§¤ì„œë“œë¥¼ í™œìš©í•´ì„œë„ ê°™ì€ ê¸°ëŠ¥ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.
[1, 2, 3, 4].map(function (val) {
  return val * 2;
});

[1, 2, 3, 4].filter(function (val) {
  return val % 2;
});

// í•˜ì§€ë§Œ ê¸°ë³¸ ë§¤ì„œë“œë§Œ í™œìš©í•œë‹¤ë©´ Nodelistì™€ ê°™ì€ array-like object ìë£Œêµ¬ì¡°ì—ì„œëŠ” í™œìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
document.querySelectorAll('*').map(node => {
  return node.nodeName;
}); // map is not a function ì—ëŸ¬ ë°œìƒ

_map(document.querySelectorAll('*'), function (node) {
  return node.nodeName;
}); // í•´ë‹¹í•˜ëŠ” ê°’ì´ lengthê°’ì´ ìˆê³ , ê·¸ ê°’ì´ ìˆ«ìë©´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤. => array like ê°’ì´ë¼ë„ í™œìš©í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.
```

í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì„ í†µí•´ ë³´ë‹¤ ë‹¤í˜•ì„±ì´ ë†’ì€ í•¨ìˆ˜ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ì¡´ì˜ ëª…ë ¹í˜• í”„ë¡œê·¸ë˜ë°ì€ ìë£Œì˜ íƒ€ì…ì´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë§¤ì„œë“œë¥¼ ê²°ì •í•˜ëŠ” ë°˜ë©´, í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì€ ìë£Œê°€ ìˆê¸° ì „ ë‹¨ê³„ë¶€í„° í•¨ìˆ˜ê°€ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— í‰ê°€ ì‹œì ì„ ë³´ë‹¤ ììœ ë¡­ê²Œ ì¡°ì ˆí•  ìˆ˜ ìˆëŠ” ê²ƒ ì…ë‹ˆë‹¤.

ì´ë ‡ê²Œ ìˆœìˆ˜í•¨ìˆ˜ë¡œ ë©”ì„œë“œë¥¼ ëŒ€ì²´í•˜ëŠ” ê²ƒì´ ë‹¤í˜•ì„±, ì‹¤ìš©ì„±ì„ ê³ ë ¤í–ˆì„ ë•Œ ì¥ì ì´ ìˆëŠ” ê²ƒ ì…ë‹ˆë‹¤.

### ë‚´ë¶€ë‹¤í˜•ì„±

#### predi, iter, mapper

```js
_map([1, 2, 3, 4], function (v) {
  return v + 10;
});
```

ìš°ë¦¬ëŠ” ì£¼ë¡œ í•¨ìˆ˜ë‚´ì— ì¸ìë¡œ í•¨ìˆ˜ë¥¼ ì…ë ¥í•œë‹¤ë©´, ê·¸ í•¨ìˆ˜ë¥¼ ì½œë°±í•¨ìˆ˜ë¼ê³  ë¶€ë¥´ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì—ì„œëŠ” ì—­í• ì— ë”°ë¼ êµ¬ë¶„ì§“ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

- ì¡°ê±´ì„ ë°˜í™˜í•˜ëŠ” predicate
- ë°˜ë³µì ìœ¼ë¡œ ì‘ë™í•˜ëŠ” iterator
- ë¬´ì–¸ê°€ë¥¼ ì—°ê²°ì‹œì¼œì£¼ëŠ” mapper

ìœ„ ì˜ˆì‹œì²˜ëŸ¼ ì´ë¦„ì„ ê°ê° ì§€ì–´ì„œ ì‚¬ìš©í•´ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

ì™¸ë¶€ ë‹¤í˜•ì„±ì€ ê·¸ í•¨ìˆ˜ê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìë£Œêµ¬ì¡°ì— ë”°ë¼ì„œ ê²°ì •ë˜ì§€ë§Œ, ë°°ì—´ì•ˆì— ì–´ë–¤ ê°’ì´ë“  ìˆ˜í–‰í•  ìˆ˜ ìˆê²Œ ë§Œë“œëŠ” ì¼ì€ ë‚´ë¶€ì˜ ë³´ì¡°í•¨ìˆ˜ì— ì˜í•´ ê²°ì •ë©ë‹ˆë‹¤.

ë³´ì¡°í•¨ìˆ˜ëŠ” ê°œë°œìê°€ ë‹¤ë£° ìˆ˜ ìˆëŠ” ë°©ì‹ì„ í•¨ìˆ˜ì—ê²Œ ìœ„ì„í•´ ì •í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë°ì´í„°í˜•ì‹ì— ì¢€ ë” ììœ ë¡­ìŠµë‹ˆë‹¤. ì´ëŠ” ê³§ ë‹¤í˜•ì„±ì„ ë†’ì¼ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ë©ë‹ˆë‹¤.

## ì»¤ë§

### \_curry, \_curryr

ì»¤ë§ì´ë€ í•¨ìˆ˜ì™€ ì¸ìë¥¼ ë‹¤ë£¨ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤.
í•¨ìˆ˜ì— ì¸ìë¥¼ í•˜ë‚˜ì”© ì ìš©í•´ë‚˜ê°€ë‹¤ í•„ìš”í•œ ì¸ìê°€ ëª¨ë‘ ì±„ì›Œì§€ë©´ í•¨ìˆ˜ ë³¸ì²´ë¥¼ ì‹¤í–‰í•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ëŠ” ì»¤ë§ì´ ì§€ì›ë˜ì§€ ì•Šì§€ë§Œ, **ì¼ê¸‰í•¨ìˆ˜**ê°€ ì§€ì›ë˜ê³  í‰ê°€ì‹œì ì„ ì»¨íŠ¸ë¡¤ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í•´ë‹¹ ê¸°ë²•ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
// add_makerì™€ ìœ ì‚¬í•œ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.
function _curry(fn) {
  return function (a) {
    return function (b) {
      return fn(a, b);
    };
  };
}

// ë³¸ì²´ í•¨ìˆ˜ì¸ addë¥¼ ê°’ìœ¼ë¡œ ê°€ì§€ê³  ìˆë‹¤ ì›í•˜ëŠ” ì‹œì ì— í‰ê°€í•˜ëŠ” ê¸°ë²•ì…ë‹ˆë‹¤.
var add = function (a, b) {
  return a + b;
};

add(10, 5); // 15

var add = _curry(function (a, b) {
  return a + b;
});

var add10 = add(10);

add10(5); // 15
add(5)(3); // 8
```

ë§Œì•½ `add(1, 2)` ê°™ì´ ì¸ìë¥¼ ë™ì‹œì— ë‘ê°œë¥¼ ì§ì ‘ ì§‘ì–´ë„£ìœ¼ë©´ ì–´ë–»ê²Œ ë ê¹Œìš”?
ì¸ì ê°’ì„ ì§ì ‘ ë„£ìœ¼ë©´ ì‹¤í–‰ì´ ë˜ì§€ ì•Šê³  ë°”ë¡œ ë‚´ë¶€ì˜ í•¨ìˆ˜ê°€ ë¦¬í„´ë©ë‹ˆë‹¤.
ì•½ê°„ì˜ ìˆ˜ì •ì„ í†µí•´ ì¸ìê°€ 2ê°œê°€ ë“¤ì–´ì™€ë„ í•¨ìˆ˜ê°€ ë¦¬í„´ë˜ì§€ ì•Šê³  ë°”ë¡œ ì‹¤í–‰ë˜ê²Œ ì‘ì„±í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```js
function _curry(fn) {
  return function (a, b) {
    if (arguments.length == 2) return fn(a, b);
    return function (b) {
      return fn(a, b);
    };
  };
}
```

ì´ë ‡ê²Œ ì¡°ê±´ë¬¸ìœ¼ë¡œ ë¶„ê¸°í•˜ì—¬ ì¸ìì˜ ê¸¸ì´ê°€ 2ì¼ë•ŒëŠ” ë°”ë¡œ í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ê²Œë” í•˜ì˜€ìŠµë‹ˆë‹¤.

```js
function _curry(fn) {
  return function (a, b) {
    return arguments.length == 2
      ? fn(a, b)
      : function (b) {
          return fn(a, b);
        };
  };
}
```

ìœ„ ì½”ë“œëŠ” ë‘ ì¡°ê±´ ëª¨ë‘ ê²°ê³¼ê°’ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì—, ì‚¼í•­ì—°ì‚°ìë¥¼ í™œìš©í•´ ì¢€ ë” ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ì´ë²ˆì—” `_curry`í•¨ìˆ˜ë¥¼ í†µí•´ ë¹¼ê¸° í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

```js
var sub = _curry(function (a, b) {
  return a - b;
});

sub(10, 5);

var sub10 = sub(10);
sub10(5); //15
```

`sub10(5)`ì˜ ì˜ë¯¸ëŠ” 10ì—ì„œ 5ë¥¼ ë¹¼ëŠ” ë¡œì§ì„ ê°€ì§„ í•¨ìˆ˜ì…ë‹ˆë‹¤ë§Œ `sub10`ì´ë¼ëŠ” ì´ë¦„ ìì²´ì˜ ì˜ë¯¸ëŠ” 10ì„ ëº€ë‹¤ëŠ” ì˜ë¯¸ì— ê°€ê¹ìŠµë‹ˆë‹¤.
ê·¸ë ‡ê¸° ë•Œë¬¸ì— ê°€ë…ì„±ì´ ì¢‹ì§€ ì•Šë‹¤ê³  í•  ìˆ˜ ìˆëŠ”ë°, ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ê°€ëŠ” ë¡œì§ì´ ì•„ë‹Œ ë°˜ëŒ€ë¡œ ë™ì‘í•˜ëŠ” `curryr(r, right)`í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤.

```js
function _curryr(fn) {
  return function (a, b) {
    return arguments.length === 2
      ? fn(a, b)
      : function (b) {
          return fn(b, a);
        };
  };
}
```

`_curry`ì™€ ìœ ì‚¬í•œ êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆì§€ë§Œ `function (b) { return fn(b, a) }`ë¡œ êµ¬ì¡°ë¥¼ ë°”ê¿”ì¤Œìœ¼ë¡œì¨ ì²˜ìŒì— ëŒ€ì…í•œ aì˜ ê°’ì´ ë‘ë²ˆì§¸ì— ìœ„ì¹˜í•˜ê²Œ ë˜ë©´ì„œ `sub10`ì´ë¼ëŠ” ì´ë¦„ì˜ ì˜ë¯¸ì— ë§ê²Œë” ë¡œì§ì„ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜í•œ `sub(10, 5)`ëŠ” 10ì—ì„œ 5ë¥¼ ë¹¼ëŠ” ë¡œì§ì´ ì´ìƒì ì´ê¸° ë•Œë¬¸ì—, `fn(a, b)`ë¡œ ìˆœì„œë¥¼ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ ë¡œì§ì„ êµ¬í˜„í• ë•Œ ì¸ìë¥¼ ì˜¤ë¥¸ìª½ë¶€í„° ì±„ì›Œë‚˜ê°ˆ ê²ƒì¸ì§€ ì™¼ìª½ë¶€í„° ì±„ì›Œë‚˜ê°ˆ ê²ƒì¸ì§€ì— ë”°ë¼ êµ¬í˜„í•˜ëŠ” ê²ƒì´ ì´ìƒì ì…ë‹ˆë‹¤.

### \_getì„ ë§Œë“¤ì–´ ì¢€ ë” ê°„ë‹¨í•˜ê²Œ í•˜ê¸°

```js
function _get(obj, key) {
  return obj == null ? undefined : obj[key];
}
```

`_get`í•¨ìˆ˜ëŠ” ê°ì²´ë¥¼ ì•ˆì „í•˜ê²Œ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë§Œì•½ ê°ì²´ê°€ keyë¡œ ì ‘ê·¼í•˜ê¸° ì• ë§¤í•œ ê²½ìš° ì—ëŸ¬ë¥¼ ë°©ì§€í•˜ê¸°ìœ„í•´ ì•ˆì „ë§‰ìœ¼ë¡œì¨ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
var user1 = users[0];
console.log(user1); // ID
console.log(_get(user1, 'name')); // ID

console.log(users[10].name); // Uncaught TypeError: Cannot read property 'name' of undefined ì—ëŸ¬ê°€ ë°œìƒ
console.log(_get(users[10], 'name')); // ì—ëŸ¬ê°€ ë°œìƒí•˜ì§€ ì•Šê³ , undefined íƒ€ì…ì˜ ê°’ì´ ì¶œë ¥
```

`_get`ì€ ì»¤ë§í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ì¢€ ë” ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
var _get = _curryr(function (obj, key) {
  return obj == null ? undefined : obj[key];
});

console.log(_get('name')(user1)); // nameì„ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ë¼ëŠ” ê²ƒì´ ë” ë¶„ëª…í•´ì§‘ë‹ˆë‹¤.

let get_name = _get('name');
get_name(user1); // ID
```

ì´ë ‡ê²Œ ì¢€ ë” ë¶„ëª…í•œ ì˜ë¯¸ë¥¼ ê°€ì§„ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë˜í•œ ê¸°ì¡´ì— ë§Œë“¤ì–´ë³´ì•˜ë˜ í•¨ìˆ˜ë„ ì´ë¥¼ í™œìš©í•´ ë” ê°„ë‹¨íˆ êµ¬í˜„í•´ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
// before
var names = _map(
  _filter(users, function (users) {
    return users.age >= 30;
  }),
  function (user) {
    return user.name;
  },
);

var ages = _map(
  _filter(users, function (users) {
    return users.age < 30;
  }),
  function (user) {
    return user.age;
  },
);

// after
var names = _map(
  _filter(users, function (users) {
    return users.age >= 30;
  }),
  _get('name'),
);

var ages = _map(
  _filter(users, function (users) {
    return users.age < 30;
  }),
  _get('age'),
);
```

## Reduce

### \_reduce ë§Œë“¤ê¸°

```js
function _reduce(list, iter, memo) {
  _each(list, function (val) {
    memo = iter(memo, val);
  });
  return memo;
}

_reduce([1, 2, 3], add, 0); // 6

// memo = add(0, 1);
// memo = add(memo, 2);
// memo = add(memo, 3);
// return memo
```

`_reduce`ëŠ” ë°°ì—´ì„ ì¸ìë¡œ ë°›ì•„, ì´í›„ ë¡œì§ì„ ì¬ê·€ì ìœ¼ë¡œ ë°˜ë³µí•˜ì—¬ ë™ì‘í•˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
ë°°ì—´ë¡œ í•˜ë‚˜ì˜ ê²°ê³¼ë¬¼ì„ ë°˜í™˜í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

ë˜í•œ ì„ ì–¸ì ìœ¼ë¡œ ì–´ë–¤ ë¡œì§ì„ ì¬ê·€ì ìœ¼ë¡œ ì‚¬ìš©í•  ê²ƒì¸ì§€ ëª…ì‹œí•˜ê¸° ë•Œë¬¸ì— ì´ìƒì ì…ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì„¸ë²ˆì§¸ ì¸ìê°’ì„ ìƒëµì‹œí‚¬ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

```js
function _reduce(list, iter, memo) {
  if (arguments.length == 2) {
    memo = list[0];
    list = list.slice(1);
  }
  _each(list, function (val) {
    memo = iter(memo, val);
  });
  return memo;
}
```

`slice` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê²Œ ëœë‹¤ë©´ ë°°ì—´ì—ë§Œ ì‘ë™í•˜ëŠ” ë¡œì§ì´ ë˜ì–´ë²„ë ¤ ë‹¤í˜•ì„± ì¸¡ë©´ì—ì„œ ì•„ì‰¬ì›Œì§‘ë‹ˆë‹¤.
í•˜ì§€ë§Œ `call` ì„ í™œìš©í•´ `_rest` í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ **arraylike** ë°°ì—´ë„ **array**ë¡œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
var slice = Array.prototype.slice;

function _rest(list, num) {
  return slice.call(list, num || 1);
}

function _reduce(list, iter, memo) {
  if (arguments.length == 2) {
    memo = list[0];
    list = _rest(list);
  }
  _each(list, function (val) {
    memo = iter(memo, val);
  });
  return memo;
}

_reduce([1, 2, 3], add; // 6
_reduce([1, 2, 3], add, 0); // 6
_reduce([1, 2, 3], add, 10); // 16
```

## pipeline ë§Œë“¤ê¸°

### \_pipe

```js
function _pipe() {
  var fns = arguments;
  return function (agr) {
    return _reduce(
      fns,
      function (arg, fn) {
        return fn(arg);
      },
      arg,
    );
  };
}

var f1 = _pipe(
  function (a) {
    return a + 1; // if f1(1), 1 + 1
  },
  function (a) {
    return a * 2; // 2 * 2
  },
  function (a) {
    return a * a; // 4 * 4
  },
);
```

`_pipe` ëŠ” í•¨ìˆ˜ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì‘ë™í•˜ê²Œ í•´ì£¼ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
ê²°êµ­ì—ëŠ” `_reduce` ì™€ ê°™ë‹¤ê³  í•  ìˆ˜ ìˆì§€ë§Œ, `_reduce` ê°€ ë” ì¶”ìƒì ì´ê³  `_pipe` ëŠ” í•¨ìˆ˜ ë‹¨ìœ„ë¡œ ì¶•ì•½ëœ í•¨ìˆ˜ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### \_go

`_go` ëŠ” **ì¦‰ì‹œì‹¤í–‰**ë˜ëŠ” pipe í•¨ìˆ˜ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
function _go(arg) {
  var fns = _rest(arguments); // argumentsì—ì„œ ì²«ë²ˆì§¸ê°€ ì œì™¸ëœ ê°’ì´ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì— _restë¥¼ í™œìš©í•´ ì œê±°

  return _pipe.apply(null, fns)(arg);
}
_go(
  1,
  function (a) {
    return a + 1; // if f1(1), 1 + 1
  },
  function (a) {
    return a * 2; // 2 * 2
  },
  function (a) {
    return a * a; // 4 * 4
  },
  console.log,
);
```

### usersì— \_goì ìš©

`_go` ë¥¼ í™œìš©í•´ ë³´ë‹¤ ê°„ë‹¨í•˜ê²Œ ë¡œì§ì„ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
// before
var names = _map(
  _filter(users, function (users) {
    return users.age >= 30;
  }),
  _get('name'),
);

var ages = _map(
  _filter(users, function (users) {
    return users.age < 30;
  }),
  _get('age'),
);

// after
_go(
  users,
  function (users) {
    return _filter(users, function (user) {
      return user.age >= 30;
    });
  },
  function (users) {
    return _map(users, _get('name'));
  },
  console.log,
);

_go(
  users,
  function (users) {
    return _filter(users, function (user) {
      return user.age < 30;
    });
  },
  function (users) {
    return _map(users, _get('age'));
  },
  console.log,
);
```

ì´ë ‡ê²Œ ì¢€ ë” ì§ê´€ì ì´ê²Œ ìˆœì„œëŒ€ë¡œ í•¨ìˆ˜ê°€ í˜ëŸ¬ê°€ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì¶”ê°€ì ìœ¼ë¡œ `_curryr` ì„ í™œìš©í•´ ë” ìì—°ìŠ¤ëŸ½ê²Œ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```js
var _map = _curryr(_map);
var _filter = _curryr(_filter);

// before adopting _curryr
_map([1, 2, 3], function (val) {
  return val * 2;
});

// after adopting _curryr
_map(
  function (val) {
    return val * 2;
  },
  [1, 2, 3],
);
// _curryrì„ í†µí•´ í‰ê°€ì‹œì ì„ ë°”ê¿” ì¢€ ë” ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

// after adopting _curryr
_go(
  users,
  _filter(function (user) {
    return user.age >= 30;
  }),
  _map(_get('name')),
  console.log,
);

// arrow functionì„ í™œìš©í•´ ê°€ë…ì„±ì„ ë” ë†’ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
_go(
  users,
  _filter(user => user.age < 30),
  _map(_get('age')),
  console.log,
);
```

`_curry`, `_pipe` ì˜ ê°œë…ì„ í†µí•´ í•¨ìˆ˜ì˜ í‰ê°€ ì‹œì ì´ë‚˜ ì¸ìê°€ ì ìš©ë˜ëŠ” ì‹œì ì„ ë¶„ë¦¬ì‹œì¼œ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì— ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ëª…ë ¹í˜•ìœ¼ë¡œ ì‘ì„±í–ˆë˜ ì½”ë“œì™€ ë¹„êµí•´ë³¸ë‹¤ë©´, ê°€ë…ì„±ì´ ë†’ì•„ì§€ê³  ì§ê´€ì ì¸ ì½”ë“œê°€ ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

> (ì•„ì§ì€ ìµìˆ™í•˜ì§€ ì•Šì•„ì„œ ë§ì´ ë´ì•¼ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤... ğŸ¥²)
